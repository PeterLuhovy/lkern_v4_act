import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{r as o}from"./index-BKyFwriW.js";import{u as Q}from"./ToastContext-ErSnUSL6.js";import{c as I}from"./classNames-CN4lTu6a.js";import{I as U}from"./InfoHint-TbK9iuJy.js";const $="FormField-module__formField___C6dgT",D="FormField-module__labelRow___FjEab",P="FormField-module__label___hylJ1",Y="FormField-module__required___JhgT6",Z="FormField-module__inputWrapper___U1Llh",O="FormField-module__messageArea___NIL-4",ee="FormField-module__helperText___BvuBM",se="FormField-module__errorText___0-KSV",re="FormField-module__successText___3AzXm",oe="FormField-module__errorIcon___bT3G2",ae="FormField-module__successIcon___BkGHw",le="FormField-module__messageRow___XcQ50",te="FormField-module__messageLeft___eb7Kf",ie="FormField-module__charCount___md5Al",e={formField:$,"formField--fullWidth":"FormField-module__formField--fullWidth___Mnk65",labelRow:D,label:P,required:Y,inputWrapper:Z,messageArea:O,"messageArea--reserved":"FormField-module__messageArea--reserved___T07nJ",helperText:ee,errorText:se,successText:re,errorIcon:oe,successIcon:ae,messageRow:le,messageLeft:te,charCount:ie},Fe=({label:u,required:c=!1,error:b,helperText:F,htmlFor:d,fullWidth:w=!1,reserveMessageSpace:C=!1,className:A,validate:t,onValidChange:h,initialValue:R="",value:f,onChange:p,inputTitle:E,successMessage:W,maxLength:m,labelHint:g,labelHintMaxWidth:V=450,children:_})=>{const{language:M}=Q(),x=f!==void 0,[y,L]=o.useState(R),[v,S]=o.useState(void 0),[T,q]=o.useState(!1),a=x?f:y,r=b||(c||T?v:void 0);o.useEffect(()=>{if(t){const l=t(a);S(l),h&&h(!l)}},[a,t,M]);const B=l=>{const N=l.target.value;x?p&&p(l):(L(N),q(!0))},i=d?`${d}-error`:void 0,J=o.isValidElement(_)?o.cloneElement(_,{value:a,onChange:B,title:E,"aria-required":c?"true":void 0,"aria-invalid":r?"true":"false","aria-describedby":r&&i?i:void 0}):_,k=I(e.formField,w&&e["formField--fullWidth"],A),z=I(e.messageArea,C&&e["messageArea--reserved"]),n=t&&!v&&a.length>0&&T?W:void 0,j=!!(r||n||F),G=r||n||F,K=r?"alert":void 0,X=r?e.errorText:n?e.successText:e.helperText,H=j||m;return s.jsxs("div",{className:k,children:[u&&s.jsxs("div",{className:e.labelRow,children:[s.jsxs("label",{className:e.label,htmlFor:d,children:[u,c&&s.jsx("span",{className:e.required,children:"*"})]}),g&&s.jsx(U,{content:g,position:"right",size:"small",maxWidth:V})]}),s.jsx("div",{className:e.inputWrapper,children:J}),s.jsx("div",{className:z,children:H&&s.jsxs("div",{className:e.messageRow,children:[s.jsx("div",{className:e.messageLeft,children:j&&s.jsxs("span",{className:X,role:K,id:r&&i?i:void 0,children:[r&&s.jsx("span",{className:e.errorIcon,"aria-hidden":"true",children:"⚠"}),n&&s.jsx("span",{className:e.successIcon,"aria-hidden":"true",children:"✓"}),G]})}),m&&s.jsxs("span",{className:e.charCount,children:[a.length,"/",m]})]})})]})};export{Fe as F};
